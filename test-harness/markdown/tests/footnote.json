{"tests": [

  {
    "description":"footnote reference EOF 1",
    "input":"[^",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "[", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:3"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:3"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference EOF 2",
    "input":"[^1",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "[", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:2"},
      {"type": "CHARACTER", "text": "1", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:4"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:4"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference 1",
    "input":"[^1]",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:5"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference 2",
    "input":"[^note]",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "note", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:8"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference 3",
    "input":"[^note&1]",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "note&1", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:10"}
    ],
    "errors":[]
  },

  {
    "description":"BB footnote definition",
    "input":"[^1]: a",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "a", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:8"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "1:8"},
      {"type": "BLOCK_END", "block": "LIST", "position": "1:8"}
    ],
    "errors":[]
  },

  {
    "description":"BB fake footnote definition",
    "input":"[^1]:a",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "1:1"},
      {"type": "CHARACTER", "text": ":a", "position": "1:5"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:7"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote definition",
    "input":"text\n[^1]:a",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "text ", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "2:1"},
      {"type": "CHARACTER", "text": ":a", "position": "2:5"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:7"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference in definition",
    "input":"[^1]: a[^2]",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "a", "position": "1:7"},
      {"type": "FOOTNOTE_REF", "text": "2", "position": "1:8"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:12"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "1:12"},
      {"type": "BLOCK_END", "block": "LIST", "position": "1:12"}
    ],
    "errors":[]
  },

  {
    "description":"LB footnote definition",
    "input":"p\n[^1]: a",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "p", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "2:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "2:1"},
      {"type": "PARAGRAPH", "position": "2:7"},
      {"type": "CHARACTER", "text": "a", "position": "2:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:8"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:8"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:8"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed footnote reference EOF 1",
    "input":"p[^",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "p[", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:4"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:4"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed footnote reference EOF 2",
    "input":"p[^1",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "p[", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:3"},
      {"type": "CHARACTER", "text": "1", "position": "1:4"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:5"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:5"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed footnote reference",
    "input":"p[^1]",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "p", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "1:2"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:6"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed fake footnote definition",
    "input":"p[^1]: a",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "p", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "1:2"},
      {"type": "CHARACTER", "text": ": a", "position": "1:6"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:9"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed footnote definition (tight)",
    "input":"[^a]: a\n[^b]: b",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "a", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:1"},
      {"type": "LIST_ITEM", "id": "b", "modality": "NONE", "position": "2:1"},
      {"type": "PARAGRAPH", "position": "2:7"},
      {"type": "CHARACTER", "text": "b", "position": "2:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:8"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:8"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:8"}
    ],
    "errors":[]
  },

  {
    "description":"paragraphed footnote definition (loose)",
    "input":"[^a]: a\n\n[^b]: b",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "false", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "a", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:1"},
      {"type": "LIST_ITEM", "id": "b", "modality": "NONE", "position": "3:1"},
      {"type": "PARAGRAPH", "position": "3:7"},
      {"type": "CHARACTER", "text": "b", "position": "3:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:8"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:8"},
      {"type": "BLOCK_END", "block": "LIST", "position": "3:8"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference then definition",
    "input":"[^a]\n[^a]: def",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "a", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "2:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "2:1"},
      {"type": "PARAGRAPH", "position": "2:7"},
      {"type": "CHARACTER", "text": "def", "position": "2:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:10"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:10"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:10"}
    ],
    "errors":[]
  },

  {
    "description":"footnote reference then definition (spaced)",
    "input":"[^a]\n\n[^a]: def",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "FOOTNOTE_REF", "text": "a", "position": "1:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "3:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "3:1"},
      {"type": "PARAGRAPH", "position": "3:7"},
      {"type": "CHARACTER", "text": "def", "position": "3:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:10"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:10"},
      {"type": "BLOCK_END", "block": "LIST", "position": "3:10"}
    ],
    "errors":[]
  },

  {
    "description":"footnote definition then reference",
    "input":"[^a]: def\n[^a]",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "def ", "position": "1:7"},
      {"type": "FOOTNOTE_REF", "text": "a", "position": "2:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:5"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:5"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:5"}
    ],
    "errors":[]
  },

  {
    "description":"footnote definition then reference (spaced)",
    "input":"[^a]: def\n\n[^a]",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "def", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "3:1"},
      {"type": "PARAGRAPH", "position": "3:1"},
      {"type": "FOOTNOTE_REF", "text": "a", "position": "3:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:5"}
    ],
    "errors":[]
  },

  {
    "description":"footnote definitions nested & spaced 1",
    "input":"[^1]: item 1\n  [^a]: item a\n  [^b]: item b\n\n[^2]: item 2\n",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "false", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "item 1", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:3"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "2:3"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "2:3"},
      {"type": "PARAGRAPH", "position": "2:9"},
      {"type": "CHARACTER", "text": "item a", "position": "2:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:3"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:3"},
      {"type": "LIST_ITEM", "id": "b", "modality": "NONE", "position": "3:3"},
      {"type": "PARAGRAPH", "position": "3:9"},
      {"type": "CHARACTER", "text": "item b", "position": "3:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "4:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "LIST_ITEM", "id": "2", "modality": "NONE", "position": "5:1"},
      {"type": "PARAGRAPH", "position": "5:7"},
      {"type": "CHARACTER", "text": "item 2", "position": "5:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "6:1"}
    ],
    "errors":[]
  },

  {
    "description":"footnote definitions nested & spaced 2",
    "input":"[^1]: item 1\n  [^a]: item a\n\n  [^b]: item b\n[^2]: item 2\n",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "item 1", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:3"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "false", "position": "2:3"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "2:3"},
      {"type": "PARAGRAPH", "position": "2:9"},
      {"type": "CHARACTER", "text": "item a", "position": "2:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "4:3"},
      {"type": "LIST_ITEM", "id": "b", "modality": "NONE", "position": "4:3"},
      {"type": "PARAGRAPH", "position": "4:9"},
      {"type": "CHARACTER", "text": "item b", "position": "4:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "LIST_ITEM", "id": "2", "modality": "NONE", "position": "5:1"},
      {"type": "PARAGRAPH", "position": "5:7"},
      {"type": "CHARACTER", "text": "item 2", "position": "5:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "6:1"}
    ],
    "errors":[]
  },

  {
    "description":"footnote definitions nested & spaced 2",
    "input":"[^1]: item 1\n\n  [^a]: item a\n  [^b]: item b\n[^2]: item 2\n",
    "tokens":[
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "false", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:7"},
      {"type": "CHARACTER", "text": "item 1", "position": "1:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "LIST", "list": "FOOTNOTE_DEFS", "tight": "true", "position": "3:3"},
      {"type": "LIST_ITEM", "id": "a", "modality": "NONE", "position": "3:3"},
      {"type": "PARAGRAPH", "position": "3:9"},
      {"type": "CHARACTER", "text": "item a", "position": "3:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "4:3"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "4:3"},
      {"type": "LIST_ITEM", "id": "b", "modality": "NONE", "position": "4:3"},
      {"type": "PARAGRAPH", "position": "4:9"},
      {"type": "CHARACTER", "text": "item b", "position": "4:9"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "5:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "5:1"},
      {"type": "LIST_ITEM", "id": "2", "modality": "NONE", "position": "5:1"},
      {"type": "PARAGRAPH", "position": "5:7"},
      {"type": "CHARACTER", "text": "item 2", "position": "5:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "6:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "6:1"}
    ],
    "errors":[]
  },

  {
    "description":"LB newline in footnote id",
    "input":"[^1\n",
    "tokens":[
      {"type": "PARAGRAPH", "position": "1:1"},
      {"type": "CHARACTER", "text": "[", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:2"},
      {"type": "CHARACTER", "text": "1", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 1",
    "input":"- item\n[",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [", "position": "1:3"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:2"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:2"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:2"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 2",
    "input":"- item\n[?",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [?", "position": "1:3"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:3"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:3"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:3"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 3",
    "input":"- item\n[^",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [", "position": "1:3"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:2"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:3"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:3"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:3"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:3"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 4",
    "input":"- item\n[^?",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [", "position": "1:3"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:2"},
      {"type": "CHARACTER", "text": "?", "position": "2:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:4"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:4"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:4"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:4"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 5",
    "input":"- item\n[^1",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [", "position": "1:3"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:2"},
      {"type": "CHARACTER", "text": "1", "position": "2:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:4"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:4"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:4"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:4"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 6",
    "input":"- item\n[^1\n",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item [", "position": "1:3"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "2:2"},
      {"type": "CHARACTER", "text": "1", "position": "2:3"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "3:1"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "3:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "3:1"},
      {"type": "BLOCK_END", "block": "LIST", "position": "3:1"}
    ],
    "errors":[]
  },

  {
    "description":"LB fake footnote in list 7",
    "input":"- item\n[^1]:?",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item ", "position": "1:3"},
      {"type": "FOOTNOTE_REF", "text": "1", "position": "2:1"},
      {"type": "CHARACTER", "text": ":?", "position": "2:5"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:7"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:7"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:7"}
    ],
    "errors":[]
  },

  {
    "description":"mismatched footnote def prefix",
    "input":"- item\n[^1]: mismatched",
    "tokens":[
      {"type": "LIST", "list": "UL_HYPHEN", "tight": "true", "position": "1:1"},
      {"type": "LIST_ITEM", "id": "", "modality": "NONE", "position": "1:1"},
      {"type": "PARAGRAPH", "position": "1:3"},
      {"type": "CHARACTER", "text": "item", "position": "1:3"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:1"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:1"},
      {"type": "LIST_ITEM", "id": "1", "modality": "NONE", "position": "2:1"},
      {"type": "PARAGRAPH", "position": "2:7"},
      {"type": "CHARACTER", "text": "mismatched", "position": "2:7"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "2:17"},
      {"type": "BLOCK_END", "block": "LIST_ITEM", "position": "2:17"},
      {"type": "BLOCK_END", "block": "LIST", "position": "2:17"}
    ],
    "errors":[
      {"description": "mismatched list prefix: FOOTNOTE_DEFS in UL_HYPHEN", "line": 2, "col": 1}
    ]
  }

]}