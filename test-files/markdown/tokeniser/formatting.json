{"tests": [

  {
    "description":"italic \"*\"",
    "input":"*italic*",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "1:1"},
      {"type": "CHARACTER", "text": "italic", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "1:8"},
      {"type": "BLOCK_END", "block": "PARAGRAPH", "position": "1:9"}
    ],
    "errors":[]
  },

  {
    "description":"bold \"**\"",
    "input":"**bold**",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:1"},
      {"type": "CHARACTER", "text": "bold", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "1:7"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:9"}
    ],
    "errors":[]
  },

  {
    "description":"italic \"_\"",
    "input":"_italic_",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "_", "position": "1:1"},
      {"type": "CHARACTER", "text": "italic", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "_", "position": "1:8"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:9"}
    ],
    "errors":[]
  },

  {
    "description":"bold \"__\"",
    "input":"__bold__",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "__", "position": "1:1"},
      {"type": "CHARACTER", "text": "bold", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "__", "position": "1:7"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:9"}
    ],
    "errors":[]
  },

  {
    "description":"strikethrough \"~~\"",
    "input":"~~strikethrough~~",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "STRIKETHROUGH", "text": "~~", "position": "1:1"},
      {"type": "CHARACTER", "text": "strikethrough", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "STRIKETHROUGH", "text": "~~", "position": "1:16"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:18"}
    ],
    "errors":[]
  },

  {
    "description":"highlight \"==\"",
    "input":"==highlight==",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "HIGHLIGHT", "text": "==", "position": "1:1"},
      {"type": "CHARACTER", "text": "highlight", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "HIGHLIGHT", "text": "==", "position": "1:12"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:14"}
    ],
    "errors":[]
  },

  {
    "description":"subscript \"~\"",
    "input":"~subscript~",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUBSCRIPT", "text": "~", "position": "1:1"},
      {"type": "CHARACTER", "text": "subscript", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "SUBSCRIPT", "text": "~", "position": "1:11"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:12"}
    ],
    "errors":[]
  },

  {
    "description":"superscript \"^\"",
    "input":"^superscript^",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:1"},
      {"type": "CHARACTER", "text": "superscript", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "SUPERSCRIPT", "text": "^", "position": "1:13"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:14"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"`\"",
    "input":"`inline code`",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:1"},
      {"type": "CHARACTER", "text": "inline code", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:13"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:14"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"``\"",
    "input":"``inline code``",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:1"},
      {"type": "CHARACTER", "text": "inline code", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:14"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:16"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"``\" with unescaped \"`\"",
    "input":"``inline `code``",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:1"},
      {"type": "CHARACTER", "text": "inline `code", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:15"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:17"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"`\" with markdown formatting characters",
    "input":"`**bold** _italic_ ==highlight==`",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:1"},
      {"type": "CHARACTER", "text": "**bold** _italic_ ==highlight==", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:33"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:34"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"`\" with html special characters",
    "input":"`< > &`",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:1"},
      {"type": "CHARACTER", "text": "&lt; &gt; &amp;", "position": "1:2"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_1", "text": "`", "position": "1:7"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:8"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"``\" with html special characters",
    "input":"``< > &``",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:1"},
      {"type": "CHARACTER", "text": "&lt; &gt; &amp;", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:8"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:10"}
    ],
    "errors":[]
  },

  {
    "description":"inline code \"``\" EOF",
    "input":"``code",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:1"},
      {"type": "CHARACTER", "text": "code", "position": "1:3"},
      {"type": "FORMAT_END", "formatting": "INLINE_CODE_2", "text": "``", "position": "1:7"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:7"}
    ],
    "errors":[]
  },

  {
    "description":"italic and bold \"***\"",
    "input":"***italic and bold***",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "1:3"},
      {"type": "CHARACTER", "text": "italic and bold", "position": "1:4"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "1:19"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "1:20"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:22"}
    ],
    "errors":[]
  },

  {
    "description":"double bold \"****\"",
    "input":"****normal text****",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:1"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "1:3"},
      {"type": "CHARACTER", "text": "normal text", "position": "1:5"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:16"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "1:18"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:20"}
    ],
    "errors":[]
  },

  {
    "description":"nested italic in bold \"**..*\"",
    "input":"**nested *italic* in bold**",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:1"},
      {"type": "CHARACTER", "text": "nested ", "position": "1:3"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "1:10"},
      {"type": "CHARACTER", "text": "italic", "position": "1:11"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "1:17"},
      {"type": "CHARACTER", "text": " in bold", "position": "1:18"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "1:26"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:28"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined fake formatting EOF \"..\\n=\"",
    "input":"normal text\n=",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text =", "position": "1:1"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:2"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined fake formatting EOF \"..\\n=1\"",
    "input":"normal text\n=1",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text =1", "position": "1:1"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:3"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting EOF \"..\\n==\"",
    "input":"normal text\n==",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "HIGHLIGHT", "text": "==", "position": "2:1"},
      {"type": "FORMAT_END", "formatting": "HIGHLIGHT", "text": "==", "position": "2:3"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:3"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting EOF \"..\\n==..\"",
    "input":"normal text\n==highlighted",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "HIGHLIGHT", "text": "==", "position": "2:1"},
      {"type": "CHARACTER", "text": "highlighted", "position": "2:3"},
      {"type": "FORMAT_END", "formatting": "HIGHLIGHT", "text": "==", "position": "2:14"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:14"}
    ],
    "errors":[]
  },

  {
    "description":"non-closing formatting character *",
    "input":"Hello, *world!",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "Hello, ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "1:8"},
      {"type": "CHARACTER", "text": "world!", "position": "1:9"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "1:15"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "1:15"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting EOF \"..\\n*\"",
    "input":"normal text\n*",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "2:1"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "2:2"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:2"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting EOF \"..\\n**\"",
    "input":"normal text\n**",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "2:1"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "2:3"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:3"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting \"..\\n*..*\"",
    "input":"normal text\n*italic text*",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "2:1"},
      {"type": "CHARACTER", "text": "italic text", "position": "2:2"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "2:13"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:14"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting \"..\\n**..**\"",
    "input":"normal text\n**bold text**",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "2:1"},
      {"type": "CHARACTER", "text": "bold text", "position": "2:3"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "2:12"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:14"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting \"**..\\n..**\"",
    "input":"normal text **bold \ntext** back to normal",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "BOLD", "text": "**", "position": "1:13"},
      {"type": "CHARACTER", "text": "bold text", "position": "1:15"},
      {"type": "FORMAT_END", "formatting": "BOLD", "text": "**", "position": "2:5"},
      {"type": "CHARACTER", "text": " back to normal", "position": "2:7"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:22"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined formatting with line break \"*..  \\n..*\"",
    "input":"normal text *italic  \ntext* back to normal",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "CHARACTER", "text": "normal text ", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting": "ITALIC", "text": "*", "position": "1:13"},
      {"type": "CHARACTER", "text": "italic", "position": "1:14"},
      {"type": "LINE_BREAK", "position": "1:20"},
      {"type": "CHARACTER", "text": "text", "position": "2:1"},
      {"type": "FORMAT_END", "formatting": "ITALIC", "text": "*", "position": "2:5"},
      {"type": "CHARACTER", "text": " back to normal", "position": "2:6"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:21"}
    ],
    "errors":[]
  },

  {
    "description":"multi-lined nested mis-matched",
    "input":"***   text\n__**_",
    "tokens":[
      {"type": "PARAGRAPH", "id": "", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting":"BOLD", "text":"**", "position": "1:1"},
      {"type": "FORMAT_BEGIN", "formatting":"ITALIC", "text":"*", "position": "1:3"},
      {"type": "CHARACTER", "text":"   text ", "position": "1:4"},
      {"type": "FORMAT_END", "formatting":"ITALIC", "text":"*", "position": "2:1"},
      {"type": "FORMAT_END", "formatting":"BOLD", "text":"__", "position": "2:1"},
      {"type": "FORMAT_BEGIN", "formatting":"BOLD", "text":"**", "position": "2:3"},
      {"type": "FORMAT_BEGIN", "formatting":"ITALIC","text":"_", "position": "2:5"},
      {"type": "FORMAT_END", "formatting":"ITALIC", "text":"_", "position": "2:6"},
      {"type": "FORMAT_END", "formatting":"BOLD", "text":"**", "position": "2:6"},
      {"type": "BLOCK_END", "block":"PARAGRAPH", "position": "2:6"}
    ],
    "errors":[]
  }
]}